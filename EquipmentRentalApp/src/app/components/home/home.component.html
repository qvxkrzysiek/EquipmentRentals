<app-logout></app-logout>

<div class="dashboard-container">
    <div class="glass-card">
        <h1>üì¶ Wypo≈ºyczalnia</h1>
        <kendo-grid
                [kendoGridBinding]="groupedEquipments"
                [skip]="skip"
                [pageSize]="pageSize"
                [sortable]="true"
                [filterable]="true"
                [pageable]="true">

            <kendo-grid-column field="name" title="Nazwa modelu" [width]="150"></kendo-grid-column>
            <kendo-grid-column field="description" title="Opis" [width]="250"></kendo-grid-column>
            <kendo-grid-column field="price" title="Cena" [width]="50" [filterable]="false"></kendo-grid-column>
            <kendo-grid-column field="quantity" title="Ilo≈õƒá totalna" [width]="80" [filterable]="false"></kendo-grid-column>
            <kendo-grid-column field="stockQuantity" title="Ilo≈õƒá na stanie" [width]="80" [filterable]="false"></kendo-grid-column>

            <!-- Kolumna z przyciskiem do wypo≈ºyczenia -->
            <kendo-grid-column title="Akcje" [width]="65">
                <ng-template kendoGridCellTemplate let-dataItem>
                    <button
                            kendoButton
                            (click)="onRentClick(dataItem)">
                        Wypo≈ºycz
                    </button>
                </ng-template>
            </kendo-grid-column>

        </kendo-grid>
    </div>

    <div class="glass-card" *ngIf="selectedProduct">
        <div>
            <h1>Wybrany produkt: {{ selectedProduct.name }} </h1>
            <h2><strong>Opis:</strong> {{ selectedProduct.description }}</h2>
            <h2><strong>Cena:</strong> {{ selectedProduct.price | currency }}</h2>
            <h2><strong>Ilo≈õƒá totalna:</strong> {{ selectedProduct.quantity }}</h2>
            <h2><strong>Ilo≈õƒá na stanie:</strong> {{ selectedProduct.stockQuantity }}</h2>
        </div>

        <div>
            <h1>Wybierz okres wypo≈ºyczenia</h1>
            <h2>Rozpoczƒôcie wypo≈ºyczenia</h2>
            <kendo-datepicker id="rentalStartDate" [value]="rentalStartDate" [min]="minDate" [disabled]="true"></kendo-datepicker>

            <div *ngIf="rentalStartDate">
                <h2>Koniec wypo≈ºyczenia</h2>
                <kendo-datepicker id="rentalEndDate" [(value)]="rentalEndDate" [min]="minDate" [max]="maxDate"></kendo-datepicker>
            </div>
        </div>

        <button kendoButton class="add-model-button" [disabled]="!rentalEndDate" (click)="onRent()">Wypo≈ºycz</button>
    </div>
</div>




